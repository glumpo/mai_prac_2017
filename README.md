# mai_prac_2017

# ВАЖНОЕ ЗАМЕЧАНИЕ

При компиляции всего этого дерьма в одну кучу и утрамбовке ногами файлы исходников будут изменены.
В чстности, быдет удалено все, что выше \begin{document}, сам \begin{document}, соответствующий ему \end и все счетчики.
Будьте внимательны!

Гид по git поправлен. На всякий случай.
Добавлен гид по азам git, смотреть ниже.

# Обновление. Еще одно.
Добавил замечания, определения, свойства и леммы. Смотрите ниже в гайд по новым фичам (в теоремах)  
Что-то где-то фиксил.  
Добавил возможность давать названия листингам с кодом (смотрите мануал ниже)
Добавил про эпиграфы

# Обновление 07.06.2017
Шрифты теперь подключены внутри темплейта.

Интервал в итоге менять не стал, так как готовая верстка у многих разъезжается, не хорошо заставлять людей переделывать.  
Много всего добавилось, спасибо Сергею Лихареву. Гайд по изменениям скоро будет где-то тут.  

Изменено поведение \caption{} чтобы было аутентично.

## Гайд по новым фичам

Для таблиц используйте [http://www.tablesgenerator.com/] в квадртных скобках пишите [h!]

### Перечисления
https://en.wikibooks.org/wiki/LaTeX/List_Structures  
Вот очень годная штука, рекомендуется юзать ее, а не нумеровать руками

### Обтекание
```
\begin{wrapfigure}{i}{0.5\textwidth}
тут лежит код того, что нужно обтекать
\end{wrapfigure}
```


### Эпиграфы
\epigraph{Text} для эпиграфов.

### Вставки кода
Для вставок кода используется пакет `listings`. Есть два варианта использования:  
Короткие вставки прямо посреди теха  
```
\begin{lstlisting}
int main() {
  printf("Here");
}
\end{lstlisting}
```

Для математики использовать  
```
	\begin{lstlisting}[mathescape=true]
  int main() {
    printf("Here");	
  }
  $ MATH $
  \end{lstlisting}
```
Чтбы дать название Lol листингу и убрать рамку
```
\begin{lstlisting}[mathescape=true, caption=Lol, frame=none]
    $K\longleftarrow1;$ $K'\longleftarrow a_n$;
    for (int i=n-1; i>=0; i=i-1){
        $(K',K)\longleftarrow(a_iK'+K,K')$;
    }
\end{lstlisting} 
```
Или подключение сишников:  
\lstinputlisting{source_filename.c}

### Новая математика
Можно использовать таких ребят в математике:  
\Nod для НОД  
\card  
\im  
\Ker  

### Теоремы

#### Для пояснений
Теоремы, следствия и прочие ребята поддерживают такую форму для поясняющих надписей рядом. Они не обязательны.
```
\begin{thm}[Тут пояснения]
Теорема
\end{thm}
```

Для теорем юзайте
```
\begin{thm}
Теорема
\end{thm}
```
Для следствия
```
\begin{sled}
Следствие
\end{sled}
```

Для лемм
```
\begin{lemma}
Text
\end{lemma}
```

Для алгоритмов
```
\begin{algo}
Text
\end{algo}
```


Для свойств
```
\begin{property}
Text
\end{property}
```

Так же есть ребята beznomera и bezpodpisi

Для доказательства использовать.
```
\begin{myproof}
some proof
\end{myproof}
```

Для замечаний
```
\begin{mynotice}
Тут замечание.
\end{mynotice}
```

Для определений
```
\begin{determ}
тут что-то определить
\end{determ}
```

Для предложений
```
\begin{predl}
Text
\end{predl}
```

Для примечаний
'''
\begin{mynote}
Text
\end{note}
'''
Помните! Можно добавлять пояснения в []. Глядите в начале, прмо под словом Теореммы.

# Обновление 06.06.2017 4:40
Залетели новые шрифты с засечками, чекайте, чтобы все работало.  
Поменяйте \setmainfont{DejaVuSans} на \setmainfont{DejaVuSerif} как в test_cls  
# Обновление 06.06.2017 4:40
Залетели новые шрифты с засечками, чекайте, чтобы все работало.
Поменяйте `\setmainfont{DejaVuSans}` на `\setmainfont{DejaVuSerif}` как в test_cls
Шрифты - DejaVuSerif как проверить, установлены ли - ниже.
Просили подчеркнуть: Мы используем XeLaTeX! Не обычный Latex! Компилятор у него свой.

# Обновление 05.06.2017 17:40
Починил хрень вверху страницы
Починил newtop

# Обовление 05.06.17
Пофиксил номера глав, теперь там Римские числа.
Пофиксил номера секций, теперь там одно число. Счетчик секций увеличивается перед
вызовом `\section{}` поэтому через `setcounter{}` указывать номер на 1 меньше.
Пофиксил номера сабсекций, теперь это `номер_секции.номер_подсекции`

Перенос строк после номера главы\секции\сабсекции поправлю потом, когда пойму как, лол.
При обноружении других ошибок пишите или открывайте ошибку на гитхабе в issues.

# Обновление
Теперь в начале файла задается номер страницы и главы.
Также можно вручную менять заголовок через функцию \newtop{ЗАГОЛОВОК}

Кто хочет в коллабораторы кидайте ссылки на профили

ВК:         id319485641  
Телеграмм:  @sunny_lera

# Как использовать гитхаб.
Это очень распространенный вопрос, на него есть куча ответов. Вот пример https://githowto.com/ На гитхабе есть куча документации, часть даже на русском.
Но, тем не менее, накатаю небольшой гайд.

Как юзать гит:
1. Ставим git: `sudo aptitude git`. Это консольная утилита. Для нее есть графический интерфейс, но использовать его не стоит.
1. Создаем локальный репозиторий клонированием: `git clone https://github.com/glumpo/mai_prac_2017.git)` 
1. Создаем свою директорию /10z/xxx-yyy (Surname) и работаем **только в ней!**
1. После внесения изменений в свои файлы добавляем их в коммит: `git add *`
1. Сохраняем их в локальном репозитории: `git commit -m "Message, describing your changes or additions"`
1. Отправляем в глобальный репозиторий на github: `git push`
1. Еесли гит скажет, что у вас не последняя версия, сделайте `git pull` чтобы загрузить все изменения или
`git pull --rebase` чтобы просто закинуть ваши коммиты, НО с --rebase юзать при условии что вы меняли ТОЛЬКО ваши файлы и уверены,
что никто другой их не менял. Иначе может возникнуть конфликт.

Для тех, кто совсем не умеет в консоль есть гуевый интерфейс. Однако, если нет опыта работы с git, в коллабораторы лучше не записываться. А то мы потом охренеем в путанице из коммитов разбираться. Как отправлять коммиты написано много где, если нужно разъяснить что-то, найдите того, кто разберается. Если что, пишите мне, я поясню.

# Оформление
В /106 лежит папка Мигалева оформленная в виде `номер_перво_стр - номер_последней_стр (фамилия латиницей)`.
Вот такого стиля стоит придерживаться.

# Темплейт
ОБРАТИТЕ ВНИМАНИЕ, темплейт написан под XeLaTeX. И в дальнейшем предполагается именно его использование. Собирать нужно не latex а xelatex он долже идти в стандартной поставке. Для обычной верстки тескта разница не заметна, но шрифты подключаются по-другому, работа с локалями - другая. В частности не работает babel.

В папке template лежит два файла. Первый - mai_book.cls - и есть темплэйт. Лежать он должен рядом с файлом к которому его подключают. Как подключать смотреть в файле test_cls.tex. Там же пример использования и подключенные шрифты. Короче, первые несколько строчек ( до \begin...) нужно скопировать себе. Там подключаются шрифты и локаль. На линуксах эти шрифты должны стоять по умолчания. Если что, проверить это можно командой ~~fc-list | grep DejaVuSans~~  fc-list | grep DejaVuSerif обатите внимание, должны быть не только обычный DejaVuSerif, но и DejaVuSerif bold и DejaVuSerif italic

Для сносок используйте footnote{текст сноски}

# Первоисточник
https://yadi.sk/d/2sBzRpeB3KiZxP по ссылке лежит архив. В нем две книжки. Одна - оригинал в формате djvu. Вторая - доблестно пропущенный через ABBY доблестным Лехой Бахаревым pdf. Короче, ABBY, конечно, хорош, но ошибки все равно остаются. Поэтому берем pdf, правим ошибки, если что - сверяемся с оригиналом, верстаем. Если есть желание пропустить через тессаракт, пробуйте, может, меньше ошибок будет. О результатах отпишитесь по контактам выше.

# Немного об используемых инструментах
Полезный сайт http://www.hostmath.com/ для верстки формул.

Так как в итоге мы должны будем скомпилировать всю эту фигню в одну большую, все нужно
придерживаться одного стандарта латеха. Как этого добиться.
1. Если нет уверености, запустится ли ваша фича на другом компиляторе, не суй ее в продакшен.
1. Те, у кого Debian-подобные дистры (всякие убунты, кубунты и прочее непотребство, а также минты и прочее) ставят из репов
`sudo aptitude install texlive texlive-science texlive-lang-cyrillic texlive-xetex`
1. Пользователями форточек смотреть ссылку ниже.

Используем именно `texlive`, а не `teTeX`, так как разработка последнего прекращена, соответственно, нахрен нужно легаси.
Если кто-то ставил его, удалите и поставьте `texlive` потому что черт знает, на сколько они совместимы

Вообще, вот тут все, что нужно уже написано  
https://ru.wikibooks.org/wiki/LaTeX/%D0%A3%D1%81%D1%82%D0%B0%D0%BD%D0%BE%D0%B2%D0%BA%D0%B0_LaTeX  
Короткая: https://goo.gl/msnhXF

И помните  
# ВЛАДУ НУЖНО БЫСТРЕЕ!!!!
