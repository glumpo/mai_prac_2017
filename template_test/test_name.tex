\documentclass{book} % For {chapter}
\usepackage{etoolbox}

\newcommand\getcurrentref[1]{%
 \ifnumequal{\value{#1}}{0}
  {??}
  {\the\value{#1}}%
}    
\begin{document}
 Chapter: \getcurrentref{chapter}

 \chapter{I}
 \tracingmacros=1\tracingonline=1
 Chapter: \getcurrentref{chapter}\\
 \tracingmacros=0
 Section: \getcurrentref{section}

 \section{i}
 Chapter: \getcurrentref{chapter}\\
 Section: \getcurrentref{section}\\
 Subsection: \getcurrentref{subsection}

 \section{ii}
 Section: \getcurrentref{section}

 \subsection{a}
 Subsection: \getcurrentref{subsection}
\end{document}